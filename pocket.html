<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Pocket</title>
  </head>
  <script>
    const observer = new MutationObserver((mutationList) => {
      for (const mutation of mutationList) {
        if (mutation.type === "childList") {
          for (const addedNode of mutation.addedNodes) {
            if (addedNode.nodeType === 1) {
              const settingsButton = addedNode.querySelector(
                `#pocket-extension-root > div > div > div > footer > button:nth-child(2)`
              );

              if (settingsButton) {
                // quick and dirty way to remove existing listeners, thanks stackoverflow
                const new_element = settingsButton.cloneNode(true);
                settingsButton.parentNode.replaceChild(
                  new_element,
                  settingsButton
                );

                new_element.onclick = (e) => {
                  window.open(
                    "https://www.youtube.com/watch?v=oHg5SJYRHA0",
                    "_blank"
                  );
                };
              }
            }
          }
        }
      }
    });
    observer.observe(document.documentElement, {
      childList: true,
      subtree: true,
    });
  </script>
  <body>
    Hello there!
  </body>
</html>
